<map version="1.0.0"><node ID="AE7B0E8E-A37B-4F51-97CB-FDCA40423E03" BACKGROUND_COLOR="#FFFFFF" TEXT="sso" COLOR="#415229" POSITION="right" STYLE="bubble"><edge COLOR="#ADD424" WIDTH="4" /><font NAME="PingFangSC-Medium" SIZE="18" /><node ID="C030AF9A-04F8-43F1-998E-6A650993802F" TEXT="&#26576;&#21496;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#48B04B" WIDTH="6" /><font NAME="PingFangSC-Light" SIZE="21" /><richcontent TYPE="NOTE"><html><head></head>
<body><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>用户完全没有登录</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>-</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>》跳转至登录页</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>—-</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>》登录页种当前域名</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>Cookie</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>，并使用图片的方式调用</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>imageUrl</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>轮流调用各个域名</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>/member/setState</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>，每次调用都会往当前域名种下</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>Cookie</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>并</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>302</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>到下一个域名的</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>/member/setState</span></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>  </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>这可能会出现一个情况，在不断</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>302</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>的过程中中断或者超时，那么可能有域名没有埋上</span></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>  </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>这时候业务线的页面检测到当前域名没有登录，跳转登录页，登录页检测到登录页的域名下有</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>Cookie</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>且有效，则回重新调用这个</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>/member/setState</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>，但这次</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>setState</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>的第一个域名就是</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>backUrl</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>（登录成功后需要跳转的</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>url</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>）里面的域名</span></p></body>
</html>
</richcontent>
<node ID="76A0E5CA-7EB6-472B-8B81-701539CE5995" TEXT="&#27969;&#31243;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#48B04B" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="1D6A99E7-3E84-40B8-9B72-B8EA59B512CB" TEXT="&#29992;&#25143;&#26410;&#30331;&#24405;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#48B04B" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="96454D32-0FF6-488A-8161-87D89ED092FD" TEXT="&#36339;&#36716;&#33267;&#30331;&#24405;&#39029;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#48B04B" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="9E43EAE7-A448-4EFF-9C0C-D1639F95D3F8" TEXT="&#30331;&#24405;&#39029;&#31181; cookie" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#48B04B" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="55B9592E-AD0B-4A22-BB71-C95BCA8FF31E" TEXT="&#22270;&#29255; 302 &#36339;&#36716;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#48B04B" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="B86DABAD-32D3-4B5B-A0A9-D172EADDB096" TEXT="&#21508;&#20010;&#22495;&#21517;&#19979;&#30340; /member/setState" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#48B04B" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="ACD06FE6-B994-401F-B2C1-FBD08D67A8CA" TEXT="&#22238;&#36339; backUrl" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#48B04B" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="A8F10C63-E9E1-4B96-A156-F39D48777E59" TEXT="&#20248;&#28857;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#48B04B" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="BC3984CD-A603-4999-AF96-85C86FB0DED9" TEXT="&#29992;&#25143;&#35775;&#38382;&#20854;&#23427;&#25480;&#20449;&#22495;&#21517;&#26102;&#19981;&#29992;&#37325;&#22797;&#30331;&#24405;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#48B04B" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="22DE220C-AA1F-4F93-98C0-D29DAFC5BB20" TEXT="&#32570;&#28857;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#48B04B" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="F7BA8331-C904-4D21-A4E0-140C97F9EAD0" TEXT="&#21487;&#33021;&#20250;&#26377;&#31561;&#24453;&#26102;&#38388;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#48B04B" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="A69BBD21-6154-4D84-A0D2-E1718488FD22" TEXT="Safari &#19981;&#20801;&#35768;&#22270;&#29255; 302 &#31181; cookie" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#48B04B" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="EE633766-1657-42AB-AC69-8B7BEA9C1CA0" TEXT="&#20351;&#29992;&#22320;&#22336;&#26639; 302 &#26041;&#24335;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#48B04B" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="C7B2EFD1-35AB-4894-AC51-EF9F8C5AFB2F" TEXT="&#20307;&#39564;&#19981;&#20339;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#48B04B" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
</node>
</node>
<node ID="0D267686-B2B8-4C5D-93D2-630C9621F040" TEXT="cas" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="6" /><font NAME="HelveticaNeue-Light" SIZE="21" /><richcontent TYPE="NOTE"><html><head></head>
<body><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>https://juejin.im/post/5e11a6e96fb9a048411a4eca#heading-1</p></body>
</html>
</richcontent>
<node ID="0DAFA782-AE77-4B41-8A2E-E083A9166D50" TEXT="&#27969;&#31243;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="B2F43AA9-D339-488C-A8FD-DB804F685A2D" TEXT="&#24212;&#29992;1&#39318;&#27425;&#30331;&#24405;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="1597F1D1-725B-4D89-ACE7-D44E499FA397" TEXT="&#29992;&#25143;&#26410;&#30331;&#24405;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="E045D787-3BF0-494D-9D80-FCA0166CE0FC" TEXT="302 &#36339;&#36716;&#30331;&#24405;&#39029;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="3BDC7256-1753-427A-ACBB-9033C2648809" TEXT="&#36755;&#20837;&#29992;&#25143;&#21517;&#23494;&#30721;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="C8F2669C-E469-4C28-BD12-77470401091B" TEXT="&#30331;&#24405;&#39029;&#31181; cookie" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="7AA34027-B8DF-4358-A7AE-7474D1BEA0E0" TEXT="CASTGC" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="2" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="FCACED25-31DB-46E1-9F7D-E69439BFE63D" TEXT="&#26631;&#24535;&#30331;&#24405;&#24577;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="1" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
</node>
<node ID="13E1FA59-4C2F-4CE2-9C02-FA75816FA124" TEXT="&#22238;&#36339; backUrl" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="46845481-DB2E-4BC2-B5F4-06960B9F252D" TEXT="&#24102;&#20837;&#19968;&#27425;&#24615;&#30340; ticket" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="2" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="01B4B56D-EFF1-4F89-B0EB-65C5860B37AC" TEXT="backUrl &#36825;&#20010;&#22320;&#22336;&#20351;&#29992; ticket &#20877;&#21521; sso &#26381;&#21153;&#22120;&#25442; cookie" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="2" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="EAFAEBD4-02D2-4308-B14A-EF0785AED870" TEXT="&#32473;&#25442;&#30340;&#21407;&#22240;&#26159;&#23427;&#22312;&#30333;&#21517;&#21333;&#20013;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="2" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
</node>
<node ID="5FE4485D-D503-4B63-A867-39C6B6BA5C76" TEXT="&#24212;&#29992;1&#31532;&#20108;&#27425;&#30331;&#24405;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="36502B71-564D-4393-9F00-E3B6BCC068A2" TEXT="&#30452;&#25509;&#39564;&#35777; cookie" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="3DB6BCE0-4C08-4759-BFDA-5B5972A2A63D" TEXT="&#26377;&#25928;&#21017;&#36820;&#22238;&#39029;&#38754;&#20869;&#23481;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="2" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
</node>
<node ID="2E53665D-7201-4615-95CE-93BEC45600B4" TEXT="&#24212;&#29992;2&#39318;&#27425;&#30331;&#24405;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="A5F5888E-0162-4CE8-BDD6-914EFF54AE72" TEXT="&#29992;&#25143;&#26410;&#30331;&#24405;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="416740DF-DA5F-4261-A933-704D38270242" TEXT="302 &#36339;&#36716;&#30331;&#24405;&#39029;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="26C81FB4-6303-476D-998C-CF3D7E457111" TEXT="&#21457;&#29616;&#30331;&#24405;&#39029;&#24050;&#26377; CASTGC cookie" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="7F7EE357-6F75-41BA-80CC-FCC957E9D7AF" TEXT="&#39564;&#35777;&#35813; cookie" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="2" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="18661B5E-3C92-4F3B-B8EB-7CD5860165C7" TEXT="&#39564;&#35777;&#36890;&#36807;&#21518;&#36339;&#36716; backUrl" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="1C9677C5-E07F-4A74-A18B-52BC4852A35E" TEXT="&#24102;&#20837;&#19968;&#27425;&#24615;&#30340; ticket" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="2" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="E632205A-6741-47BB-B498-C26236131C6A" TEXT="backUrl &#36825;&#20010;&#22320;&#22336;&#20351;&#29992; ticket &#20877;&#21521; sso &#26381;&#21153;&#22120;&#25442; cookie" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="2" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="78CB9BA8-E776-44A7-BB5A-ADE70A287A50" TEXT="&#32473;&#25442;&#30340;&#21407;&#22240;&#26159;&#23427;&#22312;&#30333;&#21517;&#21333;&#20013;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="2" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
</node>
</node>
<node ID="5C5733BE-7A08-45FD-88CE-D85C57D6BC1D" TEXT="&#20248;&#28857;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="9D99DE95-DCEF-49B7-B375-B07D9F7D5C89" TEXT="&#19981;&#38656;&#35201;&#31561;&#24453;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="E59A59BF-0889-43E9-B3B4-5F46A8887476" TEXT="&#27809;&#26377; Safari &#38382;&#39064;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="A5F8738E-AC5A-4D9C-B060-A330DEC83B57" TEXT="&#32570;&#28857;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="0B2E93E5-0D78-4D04-99F8-076A3CC9FC7A" TEXT="&#27599;&#20010;&#24212;&#29992;&#37117;&#38656;&#35201;&#33258;&#24049;&#22788;&#29702;&#31181;&#26893; cookie &#25805;&#20316;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="DF8ED1CA-FB67-47B8-B624-691305DE78E7" TEXT="&#27599;&#20010;&#24212;&#29992;&#38656;&#35201;&#25353;&#38656;&#30331;&#24405;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
</node>
</node>
</map>
