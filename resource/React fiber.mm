<map version="1.0.0"><node ID="3984C6EB-E735-4E77-9BDB-B743EE1B0A17" BACKGROUND_COLOR="#FFFFFF" TEXT="React fiber" COLOR="#415229" POSITION="right" STYLE="bubble"><edge COLOR="#ADD424" WIDTH="4" /><font NAME="PingFangSC-Medium" SIZE="18" /><richcontent TYPE="NOTE"><html><head></head>
<body><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>Fiber </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>其实可以算是一种编程思想，在其它语言中也有许多应用</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(Ruby Fiber)</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>。核心思想是</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>任务拆分和协同，主动把执行权交给主线程，使主线程有时间空挡处理其他高优先级任务。</span></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>当遇到进程阻塞的问题时，任务分割、异步调用</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>和</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>缓存策略</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>是三个显著的解决思路。</span></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>作者：郭东东</p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>链接：</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>https://juejin.im/post/5c92f499f265da612647b754</span></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>来源：掘金</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><p></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>We discussed earlier that depending on the type of a React element the framework needs to perform different activities. In our sample application, for the class components ClickCounter it calls lifecycle methods and the rendermethod, whereas for the span host component (DOM node) it performs DOM mutation. So each React element is converted into a Fiber node of corresponding type that describes the work that needs to be done.</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>You can think of a fiber as a data structure that represents some work to do or, in other words, a unit of work. Fiber’s architecture also provides a convenient way to track, schedule, pause and abort the work.</p><p></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>https://mp.weixin.qq.com/s?__biz=MjM5MTA1MjAxMQ==&amp;mid=2651237042&amp;idx=1&amp;sn=3224bf4c5cd65aa6d1f3b67d832151d3&amp;chksm=bd4973368a3efa20be62a6a1df8542b0dcce596bd5c4b37fa0de28544b06c244b5317f5a1f77&amp;mpshare=1&amp;srcid=0602VHPnKXdEkBlDsg3bNnhN&amp;sharer_sharetime=1591072531372&amp;sharer_shareid=65cd8a454e2551a882cbbe0dc3b8674a&amp;from=timeline&amp;scene=2&amp;subscene=1&amp;clicktime=1591073184&amp;enterid=1591073184&amp;ascene=2&amp;devicetype=android-27&amp;version=27000f37&amp;nettype=cmnet&amp;abtest_cookie=AAACAA%3D%3D&amp;lang=zh_CN&amp;exportkey=AZei80lD7Il87bv9%2FYvWXZc%3D&amp;pass_ticket=jPDrj5nznVbUJ443A3e%2Ff2peHI0DskBK9k3Obsghf%2FwIqUMrETJx%2FKa%2BiLGFNYHP&amp;wx_header=1</p></body>
</html>
</richcontent>
<node ID="579A33F5-6125-4DEF-B8A5-349DBD5B4CD5" TEXT="&#29992;&#20110;&#32500;&#25252;&#27599;&#19968;&#20010;&#20998;&#29255;&#30340;&#25968;&#25454;&#32467;&#26500;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#259BBA" WIDTH="6" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="0834C1BE-BD14-40EC-BE4C-C2C84D658CBC" TEXT="&#23646;&#24615;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#259BBA" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="A3A7B62C-647C-4E05-8A43-9EE33B8AA276" TEXT="pendingProps &#23450;&#20041;&#20110;&#25191;&#34892;&#26356;&#26032;&#24320;&#22987;&#30340;&#26102;&#20505;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#259BBA" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="9F88B722-EEEC-46F0-90B3-E3D9A3D8029E" TEXT="memorizedProps &#21017;&#22312;&#25191;&#34892;&#26356;&#26032;&#32467;&#26463;&#65288;&#26242;&#20572;&#65289;&#30340;&#26102;&#20505;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#259BBA" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="69B3808E-11A3-477D-90CB-EF0F816246FD" TEXT="&#32780;&#25105;&#20204;&#30693;&#36947;&#65292;&#26356;&#26032;&#26102;&#65292;&#20302;&#20248;&#20808;&#32423;&#30340;&#20219;&#21153;&#30340;&#25191;&#34892;&#36164;&#28304;&#20250;&#34987;&#35753;&#20986;&#65292;&#20063;&#23601;&#26159;&#35828;&#25972;&#20307;&#30340;&#26356;&#26032;&#25191;&#34892;&#20250;&#34987;&#26242;&#20572;&#65292;&#36825;&#23601;&#26159; memorizedProps &#34987;&#23450;&#20041;&#30340;&#26102;&#26426;&#65307;&#32780;&#21040;&#20102;&#19979;&#27425;&#24674;&#22797;&#36825;&#27425;&#25972;&#20307;&#30340;&#26356;&#26032;&#26102;&#65292;Fiber &#20250;&#23545;&#27604; memorizedProps &#21644;&#26032;&#23450;&#20041;&#30340; pendingProps&#65292;&#22914;&#26524;&#30456;&#31561;&#65292;&#21017;&#22797;&#29992;&#19978;&#27425;&#26356;&#26032;&#30340;&#32467;&#26524;&#65292;&#36825;&#23601;&#26159;&#25152;&#35828;&#30340; Fiber &#22797;&#29992;&#24050;&#23436;&#25104;&#20219;&#21153;&#32467;&#26524;&#30340;&#26041;&#24335;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#259BBA" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="BD3F1CEA-818E-4878-A23D-A7D346173F61" TEXT="&#26356;&#26032;&#26102;&#26399;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="6" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="6485E255-B6F5-4E10-97D7-5445963DE881" TEXT="render" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="5" /><font NAME="HelveticaNeue-Light" SIZE="21" /><node ID="CDA36276-1737-4C21-88BD-6FD847CC5DB7" TEXT="&#21487;&#25171;&#26029;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="18F7A602-2BC7-4527-AD01-14582366C071" TEXT="&#25171;&#26029;&#21518;&#37325;&#22836;&#20877;&#25191;&#34892;&#23545;&#24212;&#30340;&#29983;&#21629;&#21608;&#26399;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="97ED0E85-A5C9-45A3-91AA-013515FC7DDF" TEXT="&#19981;&#24314;&#35758;&#22312;&#26412;&#38454;&#27573;&#25191;&#34892;&#26377;&#21103;&#20316;&#29992;&#30340;&#20195;&#30721;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="B614E2C3-CC15-42B1-9ED3-A893797DB545" TEXT="&#22797;&#29992;&#24403;&#21069; fiber &#25968;&#25454;&#32467;&#26500;&#65292;&#20351;&#29992;&#27169;&#25311;&#30340; requestIdleCallback &#26500;&#24314;&#26032; tree" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="6E710F5D-5A7C-4692-8E03-B1255AE204F3" TEXT="&#26631;&#35760;&#38656;&#35201;&#26356;&#26032;&#30340;&#33410;&#28857;&#65292;&#25918;&#20837;&#38431;&#21015;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="9D8D114C-68E1-4DFC-80DB-FB74E60A465E" TEXT="&#23545;&#24212;&#30340;&#29983;&#21629;&#21608;&#26399;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="C3B4C5F3-1AC5-4776-AE59-B70AE76B7172" TEXT="componentWillMount" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="HelveticaNeue-Light" SIZE="21" /></node>
<node ID="3880C76C-B026-4BF4-BB10-732CC78FF266" TEXT="static getDerivedStateFromProps" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="HelveticaNeue-Light" SIZE="21" /></node>
<node ID="8AE79E33-A11E-400D-B714-796B788C626C" TEXT="static getDerivedStateFromError" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="HelveticaNeue-Light" SIZE="21" /></node>
<node ID="C121081E-3547-4A5A-AA9F-54B3356C2B51" TEXT="componentWillReceiveProps" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="HelveticaNeue-Light" SIZE="21" /></node>
<node ID="AE2FDC87-488D-455E-BAF1-222F89CB9442" TEXT="shouldComponentUpdate" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="HelveticaNeue-Light" SIZE="21" /></node>
<node ID="3480604A-DD19-47AE-B919-B8D4FEC44C95" TEXT="componentWillUpdate" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="HelveticaNeue-Light" SIZE="21" /></node>
</node>
<node ID="BF1C42C9-F3CA-4D2A-8EAF-5A171B4F5EC9" TEXT="&#25805;&#20316;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="EDA1DAF5-F048-4F81-B856-73E153BA05C4" TEXT="&#26412;&#38454;&#27573;&#30340;&#32467;&#26524;&#26159;&#19968;&#39063;&#26631;&#35760;&#26377;&#21103;&#20316;&#29992;&#30340;  fiber &#26641;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /><linktarget ID="Arrow_ID_5CF84CBC-C711-45CF-88D1-FBA3CEEAFC22_EDA1DAF5-F048-4F81-B856-73E153BA05C4" STARTARROW="Default" COLOR="#9B9EEA" SOURCE="5CF84CBC-C711-45CF-88D1-FBA3CEEAFC22" ENDARROW="Default" /></node>
</node>
</node>
<node ID="9E1B6C66-EBF3-4511-A68E-0A22B9579AEF" TEXT="commit" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="5" /><font NAME="HelveticaNeue-Light" SIZE="21" /><node ID="ED0B431E-1A3D-41B1-A6CE-E8E7402BE389" TEXT="&#19981;&#21487;&#25171;&#26029;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="FF247B1B-5F3C-41D1-AB96-7CAFE41C9205" TEXT="&#19968;&#27425;&#24615;&#26356;&#26032;&#21040; DOM" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="D8F75F48-6D9F-4F56-B6FC-27D3D5C27C35" TEXT="&#23545;&#24212;&#30340;&#29983;&#21629;&#21608;&#26399;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="6E77100A-EDCB-46E0-959A-BFDB476848D1" TEXT="componentDidMount" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="HelveticaNeue-Light" SIZE="21" /></node>
<node ID="D58F1535-31E8-4C70-8D69-5A6656049F07" TEXT="componentDidUpdate" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="HelveticaNeue-Light" SIZE="21" /></node>
<node ID="579195C0-437E-48BE-B565-AB6637D716BF" TEXT="componentDidCatch" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="HelveticaNeue-Light" SIZE="21" /></node>
<node ID="76BB6E60-51CC-4717-A40F-5AD3B649C7AD" TEXT="componentWillUnmount" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="HelveticaNeue-Light" SIZE="21" /></node>
<node ID="E5D1DD07-143D-4BE0-AA21-DAE6986211D1" TEXT="getSnapshotBeforeUpdate" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="HelveticaNeue-Light" SIZE="21" /></node>
</node>
<node ID="E76B6884-2AD0-43E5-AB04-91235CD30A4C" TEXT="&#25805;&#20316;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="C1F59A7F-926E-4406-A7A5-9FB0858BEBE6" TEXT="&#23558;&#26631;&#26377;&#21103;&#20316;&#29992;&#30340; fiber &#26641;&#24212;&#29992;&#21040;&#23454;&#20363;&#19978;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /><richcontent TYPE="NOTE"><html><head></head>
<body><p><span style='color: rgba(0, 0, 0, 0.843137); font: 21px "Georgia"; -cocoa-font-postscriptname: "Georgia"; '>		Calls the </span><span style='color: rgba(0, 0, 0, 0.843137); font: bold 16px "Menlo"; -cocoa-font-postscriptname: "Menlo-Bold"; '>getSnapshotBeforeUpdate</span><span style='color: rgba(0, 0, 0, 0.843137); font: 21px "Georgia"; -cocoa-font-postscriptname: "Georgia"; '> lifecycle method on nodes tagged with the </span><span style='color: rgba(0, 0, 0, 0.843137); font: bold 16px "Menlo"; -cocoa-font-postscriptname: "Menlo-Bold"; '>Snapshot</span><span style='color: rgba(0, 0, 0, 0.843137); font: bold 21px "Georgia"; -cocoa-font-postscriptname: "Georgia-Bold"; '> </span><span style='color: rgba(0, 0, 0, 0.843137); font: 21px "Georgia"; -cocoa-font-postscriptname: "Georgia"; '>effect</span></p><p><span style='color: rgba(0, 0, 0, 0.843137); font: 21px "Georgia"; -cocoa-font-postscriptname: "Georgia"; '>		Calls the </span><span style='color: rgba(0, 0, 0, 0.843137); font: bold 16px "Menlo"; -cocoa-font-postscriptname: "Menlo-Bold"; '>componentWillUnmount</span><span style='color: rgba(0, 0, 0, 0.843137); font: bold 21px "Georgia"; -cocoa-font-postscriptname: "Georgia-Bold"; '> </span><span style='color: rgba(0, 0, 0, 0.843137); font: 21px "Georgia"; -cocoa-font-postscriptname: "Georgia"; '>lifecycle method on nodes tagged with the </span><span style='color: rgba(0, 0, 0, 0.843137); font: bold 16px "Menlo"; -cocoa-font-postscriptname: "Menlo-Bold"; '>Deletion</span><span style='color: rgba(0, 0, 0, 0.843137); font: 21px "Georgia"; -cocoa-font-postscriptname: "Georgia"; '> effect</span></p><p style='color: rgba(0, 0, 0, 0.843137); font: 21px "Georgia"; -cocoa-font-postscriptname: "Georgia"; '>		Performs all the DOM insertions, updates and deletions</p><p><span style='color: rgba(0, 0, 0, 0.843137); font: 21px "Georgia"; -cocoa-font-postscriptname: "Georgia"; '>		Sets the </span><span style='color: rgba(0, 0, 0, 0.843137); font: bold 16px "Menlo"; -cocoa-font-postscriptname: "Menlo-Bold"; '>finishedWork</span><span style='color: rgba(0, 0, 0, 0.843137); font: bold 21px "Georgia"; -cocoa-font-postscriptname: "Georgia-Bold"; '> </span><span style='color: rgba(0, 0, 0, 0.843137); font: 21px "Georgia"; -cocoa-font-postscriptname: "Georgia"; '>tree as current</span></p><p><span style='color: rgba(0, 0, 0, 0.843137); font: 21px "Georgia"; -cocoa-font-postscriptname: "Georgia"; '>		Calls </span><span style='color: rgba(0, 0, 0, 0.843137); font: bold 16px "Menlo"; -cocoa-font-postscriptname: "Menlo-Bold"; '>componentDidMount</span><span style='color: rgba(0, 0, 0, 0.843137); font: 21px "Georgia"; -cocoa-font-postscriptname: "Georgia"; '> lifecycle method on nodes tagged with the </span><span style='color: rgba(0, 0, 0, 0.843137); font: bold 16px "Menlo"; -cocoa-font-postscriptname: "Menlo-Bold"; '>Placement</span><span style='color: rgba(0, 0, 0, 0.843137); font: 21px "Georgia"; -cocoa-font-postscriptname: "Georgia"; '> effect</span></p><p><span style='color: rgba(0, 0, 0, 0.843137); font: 21px "Georgia"; -cocoa-font-postscriptname: "Georgia"; '>		Calls </span><span style='color: rgba(0, 0, 0, 0.843137); font: bold 16px "Menlo"; -cocoa-font-postscriptname: "Menlo-Bold"; '>componentDidUpdate</span><span style='color: rgba(0, 0, 0, 0.843137); font: bold 21px "Georgia"; -cocoa-font-postscriptname: "Georgia-Bold"; '> </span><span style='color: rgba(0, 0, 0, 0.843137); font: 21px "Georgia"; -cocoa-font-postscriptname: "Georgia"; '>lifecycle method on nodes tagged with the </span><span style='color: rgba(0, 0, 0, 0.843137); font: bold 16px "Menlo"; -cocoa-font-postscriptname: "Menlo-Bold"; '>Update</span><span style='color: rgba(0, 0, 0, 0.843137); font: 21px "Georgia"; -cocoa-font-postscriptname: "Georgia"; '> effect</span></p></body>
</html>
</richcontent>
<node ID="EC3DBFFB-2EC0-4A22-80EA-252DED93BDC5" TEXT="&#27880;&#24847;&#20999;&#25442; finish work &#20026; current &#21518;&#25165;&#25191;&#34892; effect &#29983;&#21629;&#21608;&#26399;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="2" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="8BE067F0-B7FD-4B90-9111-C6B32AB8532C" TEXT="&#36941;&#21382;&#21103;&#20316;&#29992;&#38142;&#34920;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="5938C36B-253B-486B-9DF7-29540F148C61" TEXT="&#25191;&#34892; DOM &#26356;&#26032;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#35BAB1" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
</node>
</node>
<node ID="41584948-54C2-4728-B28E-648B9CD29575" TEXT="time slice" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EE685E" WIDTH="6" /><font NAME="HelveticaNeue-Light" SIZE="21" /><node ID="B8ABA67F-05F8-4606-AFE3-F957319B929D" TEXT="&#22823;&#37327;&#30340;&#35745;&#31639;&#21487;&#34987;&#24322;&#27493;&#21270;&#25286;&#35299;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EE685E" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="FDD0EDB1-411F-4547-BC04-7CE4E1C47DD5" TEXT="&#27983;&#35272;&#22120;&#20027;&#32447;&#31243;&#24471;&#20197;&#37322;&#25918;&#65292;&#20445;&#35777;&#20102;&#24103;&#29575;&#65292;&#25552;&#39640;&#21709;&#24212;&#24615;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EE685E" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="9A5543C5-A43E-4B40-ADBC-C1C9023B9930" TEXT="requestAnimationFrame" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EE685E" WIDTH="5" /><font NAME="HelveticaNeue-Light" SIZE="21" /><node ID="1DD11365-96DD-4DB8-A3C4-59A6863C6B49" TEXT="&#23558;&#20256;&#20837;&#30340; callback &#22312;&#19979;&#19968;&#24103;&#24320;&#22987;&#26102;&#31435;&#21363;&#25191;&#34892;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EE685E" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="300CD003-2258-4BBE-8017-7D8C0791EE09" TEXT="&#35302;&#21457;&#22312; Layout &#19982; Paint &#20043;&#21069;&#65292;&#26041;&#20415;&#20570; DOM &#21464;&#26356;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EE685E" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="BE8DBF07-7647-462D-B1E5-3C97D2A6E3C5" TEXT="requestIdleCallback(&#28304;&#30721;&#23454;&#38469;&#24182;&#26410;&#20351;&#29992;)" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EE685E" WIDTH="5" /><font NAME="HelveticaNeue-Light" SIZE="21" /><linktarget ID="Arrow_ID_4F70A81C-81FC-44DE-A8CA-9F1FB4B6BDBE_BE8DBF07-7647-462D-B1E5-3C97D2A6E3C5" STARTARROW="Default" COLOR="#9B9EEA" SOURCE="4F70A81C-81FC-44DE-A8CA-9F1FB4B6BDBE" ENDARROW="Default" /><node ID="B25B0E70-26F4-42D9-8CF1-EC0E00233E06" TEXT="&#22312; Layout &#19982; Paint &#20043;&#21518;&#25191;&#34892;&#30340;&#65292;&#24847;&#21619;&#30528;&#36866;&#21512;&#20570; JS &#35745;&#31639;&#65292;&#22914;&#26524;&#20877;&#36827;&#34892; DOM &#30340;&#21464;&#26356;&#65292;&#20250;&#37325;&#26032;&#35302;&#21457; Layout &#19982; Paint&#65292;&#24103;&#30340;&#26102;&#38388;&#20063;&#20250;&#22240;&#27492;&#19981;&#21487;&#25511;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EE685E" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="276B4B71-589B-4AC6-AAA8-B5921B88E9D0" TEXT="js &#32447;&#31243;&#21644; ui &#32447;&#31243;&#20114;&#26021;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EE685E" WIDTH="5" /><font NAME="HelveticaNeue-Light" SIZE="21" /></node>
</node>
<node ID="374F5C65-FC20-4BE2-82BB-280AF44B445B" TEXT="&#20195;&#25968;&#25928;&#24212;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#FFE52A" WIDTH="6" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="D0107796-41F9-402D-B3D3-70A2AA3EFB6A" TEXT="&#36816;&#34892;&#26102;&#31995;&#32479;&#20250;&#22312;&#26576;&#20010;&#25928;&#24212;&#20135;&#29983;&#30340;&#26102;&#20505;&#65292;&#23547;&#25214;&#31163;&#36825;&#20010;&#20135;&#29983;&#30340;&#25928;&#24212;&#26368;&#36817;&#30340;&#22788;&#29702;&#22120;&#26469;&#22788;&#29702;&#23427;&#65307;&#22914;&#26524;&#36825;&#20010;&#22788;&#29702;&#22120;&#23384;&#22312;&#65292;&#37027;&#20040;&#23427;&#23558;&#26681;&#25454;&#23548;&#33268;&#25928;&#24212;&#20135;&#29983;&#30340;&#21442;&#25968;&#21450;&#26412;&#36523;&#30340;&#35745;&#31639;&#32493;&#20307;&#25191;&#34892;&#23545;&#24212;&#30340;&#25805;&#20316;&#12290;&#35745;&#31639;&#32493;&#20307;&#20351;&#24471;&#36816;&#34892;&#26102;&#21487;&#20197;&#24212;&#29992;&#36825;&#19968;&#31995;&#21015;&#25805;&#20316;&#20135;&#29983;&#30340;&#32467;&#26524;&#26469;&#24674;&#22797;&#25928;&#24212;&#20135;&#29983;&#21069;&#30340;&#35745;&#31639;&#12290;&#35793;&#33258;&#12298;Handling Polymorphic Algeraic Effects&#12299;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#FFE52A" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="B59D2AD6-2C7C-4E5A-91DA-82F316CF29F3" TEXT="&#27010;&#24565;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#FFE52A" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="2BEAB7C0-3124-4520-85D2-1BF3AAC2922A" TEXT="&#25928;&#24212;&#65288;Effect&#65289;,&#36825;&#20010;&#27010;&#24565;&#25551;&#36848;&#30340;&#26159;&#20195;&#25968;&#20135;&#29983;&#30340;&#30456;&#20851;&#25928;&#24212;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#FFE52A" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="B7D6234D-809D-477B-BF93-666CB110E9C6" TEXT="&#22788;&#29702;&#22120;&#65288;Handler&#65289;,&#36825;&#20010;&#27010;&#24565;&#25551;&#36848;&#30340;&#26159;&#22788;&#29702;&#20195;&#25968;&#25928;&#24212;&#30340;&#30456;&#20851;&#36923;&#36753;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#FFE52A" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="F37A664A-BDB8-4696-91DC-1C6B0C63C15F" TEXT="&#35745;&#31639;&#32493;&#20307;&#65288;Continuation&#65289;,&#23427;&#20351;&#24471;&#35745;&#31639;&#21487;&#20197;&#22312;&#26576;&#20010;&#25928;&#24212;&#30340;&#22788;&#29702;&#32467;&#26463;&#21518;&#24310;&#32493;&#20043;&#21069;&#30340;&#36923;&#36753;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#FFE52A" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="9DE9753F-F240-4A0C-97FC-CBE9F2AA98DB" TEXT="&#24674;&#22797;&#65288;Resume&#65289;,&#23545;&#24212;&#30340;&#65292;&#35745;&#31639;&#24517;&#23450;&#33021;&#22815;&#8220;&#26242;&#20572;&#8221;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#FFE52A" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="EE0919E1-0D13-468F-A50D-8512E3ED4499" TEXT="&#20363;&#23376;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#FFE52A" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><richcontent TYPE="NOTE"><html><head></head>
<body><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>React </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>又做了啥？</span></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>到现在，我们阐释了代数效应的一些基本机制，但是这和</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> React </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>有什么关系呢？</span></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>Emm x7...</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>你可能已经想到了，对，就是那个！</p><p></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>当当当当</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>... React Hooks!</span></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>Hooks</p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>我们来看看</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> hooks </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>是怎么使用的：</span></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>function</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>AComponent</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>()</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>{</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>  </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>const</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>[</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>x</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>,</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> setX</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>]</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>=</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> useState</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>0</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>)</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>  </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>const</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> y </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>=</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>1</p><p></p><p></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>  useEffect</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(()</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>=&gt;</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>{</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>    </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>if</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>x </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>&gt;</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>3</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>)</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>{</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>      setX</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>parseInt</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>Math</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>.</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>random</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>()</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>*</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>3</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>))</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>    </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>}</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>  </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>},</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>[</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>x</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>])</p><p></p><p></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>  </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>return</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>      </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>&lt;h1&gt;</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>{</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> x </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>+</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> y </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>}&lt;/</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>h1</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>&gt;</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>  </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>)</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>}</p><p></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>Yes</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>！我们仅仅是将前面那段并不存在的语法用</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> Hooks </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>进行了某种转义！</span></p><p></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>A_Computation </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>的</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> x </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>值由</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> getX </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>决定，而</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> AComponent </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>的</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> x </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>值由</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> hook useState </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>决定初始值，并根据该</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> hook </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>返回的</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> setX </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>进行修改，那么我们就可以说，</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>setX </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>是使得</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> x </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>产生效应的一个因素；而对于由</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> x </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>产生的效应，我们使用了</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> hook useEffect </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>进行处理，并且将</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> x </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>传入了该</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> hook </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>的依赖列表里，并且是唯一了，那么我们就可以说，这个</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> useEffect </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>就是</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> x </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>的处理器了，从而我们可以进一步封装：</span></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>function</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> useX</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>initial</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>,</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> max</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>)</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>{</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>  </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>const</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>[</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>x</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>,</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> setX</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>]</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>=</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> useState</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>initial</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>)</p><p></p><p></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>  useEffect</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(()</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>=&gt;</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>{</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>    </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>if</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>x </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>&gt;</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> max</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>)</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>{</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>      setX</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>parseInt</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>Math</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>.</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>random</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>()</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>*</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>3</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>))</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>    </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>}</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>  </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>},</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>[</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>x</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>])</p><p></p><p></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>  </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>return</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>[</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>x</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>,</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> setX</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>]</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>}</p><p></p><p></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>function</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>AComponent</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>()</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>{</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>  </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>const</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>[</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>x</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>,</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> setX</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>]</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>=</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> useX</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>0</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>,</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>3</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>)</p><p></p><p></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>  </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>return</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>      </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>&lt;h1&gt;</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>{</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> x </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>+</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> y </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>)&lt;/</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>h1</p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>&gt;</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>  </p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>)</p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>}</p><p></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>这样以来，我们的</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> x </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>作为一个具有效应及效应处理器的代数，不仅为</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> AComponent </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>服务，还可以被复用于其他组件了</span></p><p></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>Resume </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>呢？</span></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>Emm x8...</p><p></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>好了，我们现在已经看到</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> React </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>用</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> Hooks </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>完成代数效应的的效应和处理器两个因素，那么</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> resume </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>呢？这似乎才是代数效应最具魔力的地方，怎么开启这个特性呢？</span></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>答案是：</p><p></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>JavaScript </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>有个</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Apple Color Emoji"; -cocoa-font-postscriptname: "AppleColorEmoji"; '>🔨</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>的</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> resume...</span></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>Emm x9...</p><p></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>所以，既然没能</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> Resume</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>，那就把函数再执行一遍呗</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>...</span></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>Emm x10...</p><p></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>这就解释了前面那个遗留的问题，即为什么会有</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> pendingProps </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>和</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> memorizedProps </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>的对比这一操作的存在，重新执行一遍函数，如果没有新旧状态的对比，那一旦状态庞大又复杂，效率将很低下，所以这个也是</span></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>Fiber </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>做的一个优化</span></p></body>
</html>
</richcontent>
<node ID="13878973-D9BC-472A-AA80-9E974836DC4A" TEXT="&#21487;&#20197;&#30475;&#21040;&#65292;&#23545;&#20110;&#19968;&#20010;&#20989;&#25968; f(x, y, z)&#65292;&#22312;&#27491;&#24120;&#30340;&#27969;&#31243;&#19979;&#65292;&#36816;&#34892;&#26102;&#21482;&#38656;&#35201;&#35745;&#31639;&#20986; x + y - z &#21363;&#21040;&#36798;&#32456;&#28857;&#65292;&#20063;&#23601;&#26159;&#24471;&#21040;&#20989;&#25968;&#30340;&#36820;&#22238;&#20540;

&#37027;&#20040;&#26469;&#30475;&#21491;&#36793;&#65292;&#24403; a&#12289;b &#20004;&#20010;&#22240;&#32032;&#23548;&#33268;&#20102;&#20135;&#29983;&#22312; x &#19978;&#30340;&#19968;&#20010;&#25928;&#24212;&#30340;&#26102;&#20505;&#65292;x &#30340;&#22788;&#29702;&#22120; f(a, b) &#21017;&#34987;&#35843;&#29992;&#65292;&#24471;&#21040;&#19968;&#20010;&#26032;&#30340; x&#65292;&#32780;&#36825;&#20010;&#26032;&#30340; x &#20316;&#20026;&#36825;&#27425;&#25928;&#24212;&#22788;&#29702;&#30340;&#32467;&#26524;&#65292;&#34987;&#24674;&#22797;&#21040;&#20102; A Computation &#20013;&#20135;&#29983;&#35813;&#25928;&#24212;&#30340;&#20301;&#32622;&#65292;&#21442;&#19982;&#21097;&#20313;&#30340;&#35745;&#31639;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#FFE52A" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
</node>
</node>
<node ID="76E4F1DB-AB99-4275-B6DC-FD04041FEC54" TEXT="reconciliation" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EEA600" WIDTH="6" /><font NAME="HelveticaNeue-Light" SIZE="21" /><node ID="35805C37-D31F-45C0-B40D-FCB9CC7C9E2A" TEXT="&#33719;&#24471;&#26102;&#38388;&#29255;&#21518;&#65292;&#36827;&#20837; work loop" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EEA600" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="B2F40969-3B07-4CDB-8CBC-4CECCD4E3DD3" TEXT="&#19979;&#19968;&#20010;&#24037;&#20316;&#21333;&#20803;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EEA600" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="C53533AA-01B0-4088-BF43-E588514DB086" TEXT="&#19979;&#19968;&#20010;&#24453;&#22788;&#29702;&#30340; fiber" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EEA600" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="A3654496-7841-42F9-864C-989FC3605CBA" TEXT="&#24403;&#21069;&#36824;&#33021;&#21344;&#29992;&#20027;&#32447;&#31243;&#30340;&#26102;&#38388;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EEA600" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="901261A4-C8C8-43B0-965F-0B35D8E36A04" TEXT="&#27969;&#31243;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EEA600" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><richcontent TYPE="NOTE"><html><head></head>
<body><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>如果当前节点不需要更新，直接把子节点</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>clone</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>过来，跳到</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>5</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>；要更新的话打个</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>tag</span></p><p></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>更新当前节点状态（</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>props, state, context</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>等）</span></p><p></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>调用</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>shouldComponentUpdate()</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>，</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>false</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>的话，跳到</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>5</span></p><p></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>调用</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>render()</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>获得新的子节点，并为子节点创建</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>fiber</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>（创建过程会尽量复用现有</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>fiber</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>，子节点增删也发生在这里）</span></p><p></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>如果没有产生</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>child fiber</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>，该工作单元结束，把</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>effect list</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>归并到</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>return</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>，并把当前节点的</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>sibling</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>作为下一个工作单元；否则把</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>child</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>作为下一个工作单元</span></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>如果没有剩余可用时间了，等到下一次主线程空闲时才开始下一个工作单元；否则，立即开始做</p><p></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>如果没有下一个工作单元了（回到了</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>workInProgress tree</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>的根节点），第</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>1</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>阶段结束，进入</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>pendingCommit</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>状态</span></p></body>
</html>
</richcontent>
<node ID="E92BEF78-0892-46E3-89E9-AE3AE95A7D4B" TEXT="&#28145;&#24230;&#36882;&#24402;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EEA600" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="0E2C2706-7189-4805-8F85-FF41DECD74FC" TEXT="&#27599;&#27425; fiber &#22788;&#29702;&#23436;&#25104; check &#26102;&#38388;&#29255;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EEA600" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="3FD9372A-C333-4964-A640-C520405D9AEF" TEXT="&#21494;&#23376;&#33410;&#28857;&#23436;&#25104;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EEA600" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="8DA10D4E-189A-4A2E-97AF-5625C62E189F" TEXT="&#22238;&#28335;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EEA600" WIDTH="2" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="5CF84CBC-C711-45CF-88D1-FBA3CEEAFC22" TEXT="&#35760;&#24405;&#33410;&#28857;&#30340; effect tag &#24182;&#25351;&#21521;&#19978;&#19968;&#20010; effect" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EEA600" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /><arrowlink ID="Arrow_ID_5CF84CBC-C711-45CF-88D1-FBA3CEEAFC22_EDA1DAF5-F048-4F81-B856-73E153BA05C4" DESTINATION="EDA1DAF5-F048-4F81-B856-73E153BA05C4" STARTARROW="Default" COLOR="#9B9EEA" ENDARROW="Default" /></node>
<node ID="90D776EA-6A20-478D-A9C5-3EE7A54BB6D3" TEXT="&#22788;&#29702; effect list &#26356;&#26032; dom" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EEA600" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="1CB3956C-BA30-4D91-91C7-9B4C243E0EEE" TEXT="commit &#21518;&#25191;&#34892; componentDidMount" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EEA600" WIDTH="3" /><font NAME="HelveticaNeue-Light" SIZE="21" /></node>
</node>
<node ID="329AF749-800D-4F4A-9C66-258C3A139AA6" TEXT="&#20248;&#20808;&#32423;" COLOR="#36342E" POSITION="right" STYLE="fork"><edge COLOR="#EEA600" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><richcontent TYPE="NOTE"><html><head></head>
<body><p style='color: rgba(0, 0, 0, 1.000000); font: 12px "Times"; -cocoa-font-postscriptname: "Times-Roman"; '>module.exports = { NoWork: 0, // No work is pending. SynchronousPriority: 1, // For controlled text inputs. Synchronous side-effects. AnimationPriority: 2, // Needs to complete before the next frame. HighPriority: 3, // Interaction that needs to complete pretty soon to feel responsive. LowPriority: 4, // Data fetching, or result from updating stores. OffscreenPriority: 5, // Won&apos;t be visible but do the work in case it becomes visible. };</p><p></p><p style='color: rgba(0, 0, 0, 1.000000); font: 12px "Songti SC"; -cocoa-font-postscriptname: "STSongti-SC-Regular"; '>作者：妖僧风月</p><p><span style='color: rgba(0, 0, 0, 1.000000); font: 12px "Songti SC"; -cocoa-font-postscriptname: "STSongti-SC-Regular"; '>链接：</span><span style='color: rgba(0, 0, 0, 1.000000); font: 12px "Times"; -cocoa-font-postscriptname: "Times-Roman"; '>https://juejin.im/post/5ab7b3a2f265da2378403e57</span></p><p style='color: rgba(0, 0, 0, 1.000000); font: 12px "Songti SC"; -cocoa-font-postscriptname: "STSongti-SC-Regular"; '>来源：掘金</p><p style='color: rgba(0, 0, 0, 1.000000); font: 12px "Songti SC"; -cocoa-font-postscriptname: "STSongti-SC-Regular"; '>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p></body>
</html>
</richcontent>
<node ID="E7CE29D7-975D-4C43-AC8D-0B8D3F903ED3" TEXT="" COLOR="#46443C" POSITION="right" STYLE="fork"><edge COLOR="#EEA600" WIDTH="3" /><font NAME="HelveticaNeue-Light" SIZE="21" /></node>
</node>
</node>
</node>
<node ID="1861E5E1-C03A-47C9-AF59-8A132574B58F" TEXT="&#35843;&#24230;" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="6" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="8F98D279-8ED1-4B94-9743-738812AE5AF4" TEXT="setState &#35302;&#21457; enqueueSetState" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="5" /><font NAME="HelveticaNeue-Light" SIZE="21" /></node>
<node ID="01692B89-27DE-405F-8253-7E96C1EEC56F" TEXT="&#21516;&#19968;&#25209;&#27425;&#30340;&#26356;&#26032;&#25552;&#21319;&#21040; root fiber" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="5FE51C97-04F5-4F60-B016-89F3FD51E9F6" TEXT="&#26356;&#26032; expiration time" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="02E0F841-947D-4956-8D66-D82E47973A0F" TEXT="&#26356;&#26032; child expiration time" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="1C6D96D9-384A-4D25-9BFD-73ABFA19388A" TEXT="&#21028;&#26029;&#26159;&#21542;&#25171;&#26029;&#19978;&#19968;&#27425;&#20219;&#21153;" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="C5CDC80C-AEBB-42D1-871E-3FEEA95EF10F" TEXT="&#38750; commit &#38454;&#27573;&#21017;&#25191;&#34892; work" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="27556AAC-0DDC-4E52-8E5E-7190B179419C" TEXT="&#23558; root &#21152;&#20837; root &#38431;&#21015;" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="7E3DB4DE-565C-4C3A-B947-9A222618EC37" TEXT="&#22914;&#26524;&#38656;&#35201;&#25209;&#37327;&#26356;&#26032;" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="39B0C995-5F76-4F7C-B593-B1D73F56097F" TEXT="&#36864;&#20986;" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
<node ID="EC883428-5F9F-44D6-A20F-597B704C3990" TEXT="&#26681;&#25454; expiration time &#25191;&#34892;" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="757D760D-5B12-4A62-91B0-02A613C66228" TEXT="&#24322;&#27493; work" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="C6CC036A-5C49-42EC-8C29-32F4C463BB21" TEXT="&#21516;&#27493; work" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
</node>
<node ID="208F1239-29E1-4F4E-B331-F3BF18C847C3" TEXT="&#20026; work &#21019;&#24314;&#26032;&#30340;&#35843;&#24230;&#33410;&#28857;&#65292;&#24182;&#26681;&#25454; expiration time &#25554;&#20837;&#21015;&#34920;" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
<node ID="DBA8D593-220B-4851-B5A9-DA278BA277BD" TEXT="&#20351;&#29992; polyfill &#30340; requestIdleCallback &#35843;&#24230;&#19978;&#36848;&#21015;&#34920;" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="5" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="5D2F2473-1310-423D-9096-828DFF35DE15" TEXT="&#27169;&#25311; requestIdleCallback" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="4" /><font NAME="PingFangSC-Light" SIZE="21" /><node ID="4F70A81C-81FC-44DE-A8CA-9F1FB4B6BDBE" TEXT="&#36890;&#36807; requestAnimationFrame &#22312;&#27983;&#35272;&#22120;&#28210;&#26579;&#19968;&#24103;&#20043;&#21069;&#20570;&#19968;&#20123;&#22788;&#29702;&#65292;&#28982;&#21518;&#36890;&#36807; postMessage &#22312;macro task&#65288;&#31867;&#20284; setTimeout&#65289;&#20013;&#21152;&#20837;&#19968;&#20010;&#22238;&#35843;&#65292;&#22240;&#20026;&#25509;&#19979;&#21435;&#20250;&#36827;&#20837;&#27983;&#35272;&#22120;&#28210;&#26579;&#38454;&#27573;&#65292;&#25152;&#20197;&#20027;&#32447;&#31243;&#26159;&#34987; block &#20303;&#30340;&#65292;&#31561;&#21040;&#28210;&#26579;&#23436;&#20102;&#28982;&#21518;&#22238;&#26469;&#28165;&#31354;&#65288;&#25191;&#34892;&#65289;macro task&#65292;&#27492;&#26102;&#21457;&#29616;&#24103;&#26102;&#38388;&#36824;&#26410;&#36807;&#26399;&#65292;&#21363;&#35748;&#20026;&#26159; idle &#30340;&#26102;&#38388;" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /><arrowlink ID="Arrow_ID_4F70A81C-81FC-44DE-A8CA-9F1FB4B6BDBE_BE8DBF07-7647-462D-B1E5-3C97D2A6E3C5" DESTINATION="BE8DBF07-7647-462D-B1E5-3C97D2A6E3C5" STARTARROW="Default" COLOR="#9B9EEA" ENDARROW="Default" /></node>
<node ID="678E4355-0476-479D-8E28-0CC6356BBA8D" TEXT="&#20302;&#20248;&#20808;&#32423;&#30340;&#20219;&#21153;&#37117;&#26159;&#22312; 16ms &#20013;&#30340;&#26368;&#21518;&#19968;&#27573;&#26102;&#38388;&#65288;Idle&#65289;&#20869;&#25191;&#34892;&#65292;&#36825;&#26159;&#22522;&#20110;&#27983;&#35272;&#22120;&#22312;&#36825;&#27573;&#26102;&#38388;&#24320;&#22987;&#21069;&#24050;&#32463;&#32467;&#26463;&#20102; high &#21644; paint &#20004;&#31181;&#20219;&#21153;&#65292;&#31616;&#21333;&#26469;&#35828;&#23601;&#26159;&#24050;&#32463;&#23436;&#25104;&#20102;&#35753;&#29992;&#25143;&#33298;&#26381;&#30340;&#20107;&#24773;&#65292;&#21487;&#20197;&#24471;&#38386;&#20570;&#28857;&#20799;&#21097;&#20313;&#24037;&#20316;" COLOR="#36332D" POSITION="right" STYLE="fork"><edge COLOR="#2E9632" WIDTH="3" /><font NAME="PingFangSC-Light" SIZE="21" /></node>
</node>
</node>
</node>
<node ID="B0F35510-E0C2-4DC3-821E-11502BF0F455" TEXT="&#32972;&#26223;" COLOR="#36342E" POSITION="left" STYLE="fork"><edge COLOR="#1CA197" WIDTH="6" /><font NAME="PingFangSC-Light" SIZE="21" /><richcontent TYPE="NOTE"><html><head></head>
<body><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>React </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>实现了使用</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> Virtual DOM </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>来描述</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> UI </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>的方式，通过对比两棵树的差异最小化的更新</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> DOM</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>，这样使得用户的代码变的傻瓜，但是同时也来带了一些问题。这个核心的问题就在于</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> diff </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>计算并非是免费的，在元素较多的情况下，整个</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> diff </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>计算的过程可能会持续很⻓时间，造成动画丢帧或者很难响应用户的操作，造成用户体验下降。</span></p><p></p><p style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>为什么会出现这个问题，主要是因为下面两个原因：</p><p></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>React &lt; 15 </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>的版本一直采用</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> Stack Reconciler </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>的方式进行</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> UI </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>渲染</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>(</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>之所以叫</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> Stack Reconciler </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>是相对于</span></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>Fiber Reconciler </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>而言</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>) , </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>而</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> Stack Reconciler </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>的实现是采用了递归的方式，我们知道递归是无法被打断，每当有需要更新的时候，</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>React </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>会从需要更新的节点开始一直执行</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> diff </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>，这会消耗大量的时间。</span></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>浏览器是多线程的，包含渲染线程和</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> JS </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>线程，而渲染线程和</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> JS </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>线程是互斥的，所以当</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> JS </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>线程占据大量时间的时候，</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '>UI </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>的响应也会被</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> block </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>住。</span></p><p><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>上面两个原因缺一不可，因为如果</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> JS </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>执行，</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> UI </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>不会阻塞</span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "Helvetica Neue"; -cocoa-font-postscriptname: "HelveticaNeue"; '> </span><span style='color: rgba(58, 58, 58, 1.000000); font: 15px "PingFang SC"; -cocoa-font-postscriptname: "PingFangSC-Regular"; '>，其实用户也不会有所感知。下面让我们看下比较常见的性能优化手段。</span></p></body>
</html>
</richcontent>
</node>
</node>
</map>
